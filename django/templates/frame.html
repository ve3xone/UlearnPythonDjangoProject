{% load static %}

<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          integrity="sha256-PI8n5gCcz9cQqQXm3PEtDuPG8qx9oFsFctPg0S5zb8g=" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'frame/css/style.css' %}">
</head>
<body class="bg-dark">
    <button class="menu-toggle">‚ò∞</button>
    <div class="d-flex">
        <!-- –ü–∞–Ω–µ–ª—å -->
        <div class="sidebar" id="sidebar">
            <div class="p-3">
                <a href="/" target="_blank">
                    <img src="{% static 'frame/images/java.png' %}" style="width: 220px;" class="justify-content-center align-items-center">
                </a>
                <a href="/" class="d-flex justify-content-center align-items-center text-white text-decoration-none mb-3 mb-md-0 me-md-auto">
                    <span class="fs-4">Java-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç</span>
                </a>
                <div class="container">
                    <footer class="d-flex flex-wrap border-top py-3 my-2"></footer>
                </div>
                <ul class="nav nav-pills flex-column mb-auto">
                    <li class="nav-item">
                        <a href="/" class="nav-link {% if request.path == '/' %}active{% endif %} text-white ajax-link" aria-current="page">üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a>
                    </li>
                    <li>
                        <a href="/general_stats" class="nav-link {% if request.path == '/general_stats' %}active{% endif %} text-white ajax-link" data-title="–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                    </li>
                    <li>
                        <a href="/demand" class="nav-link {% if request.path == '/demand' %}active{% endif %} text-white">üìà –í–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–æ—Å—Ç—å</a>
                    </li>
                    <li>
                        <a href="/geography" class="nav-link {% if request.path == '/geography' %}active{% endif %} text-white">üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—è</a>
                    </li>
                    <li>
                        <a href="/skills" class="nav-link {% if request.path == '/skills' %}active{% endif %} text-white">üìö –ù–∞–≤—ã–∫–∏</a>
                    </li>
                    <li>
                        <a href="/latest_vacancies" class="nav-link {% if request.path == '/latest_vacancies' %}active{% endif %} text-white">üíº –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏</a>
                    </li>
                </ul>
                
                <div class="container">
                    <footer class="d-flex flex-wrap py-3 my-4 border-top">
                        <div class="d-flex align-items-center">
                            <p><a href="https://github.com/ve3xone" class="text-danger">–°—Ç–∞—Ä—Ü–µ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ –ò–≥–æ—Ä–µ–≤–∏—á –†–ò-230945</a></p>
                            
                        </div>
                        <span class="mb-3 mb-md-0 text-warning">2025</span>
                    </footer>
                </div>
            </div>
        </div>

        <!-- –ó–¥–µ—Å—å –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content" id="mainContent">
            {% block content %}{% endblock %}
        </div>

        <!-- –°–Ω–µ–≥ –∏ —Å—É–≥—Ä–æ–±—ã -->
        <div id="snowflakes"></div>
        <div id="ground"></div>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç –Ω–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –º–µ–Ω—é -->
    <script src="{% static 'frame/js/sidebar.js' %}"></script>
    <!-- –°–∫—Ä–∏–ø—Ç –Ω–∞ —Å–Ω–µ–≥ -->
    <script src="{% static 'frame/js/snowfall.js' %}"></script>

    <!-- AJAX –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∞ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <!-- –î—É–º–∞—é –¥–æ–±–∞–≤–∏—Ç—å –µ—Å–ª–∏ —É—Å–ø–µ—é –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ -->
    <!-- <script>
            document.addEventListener("click", function (event) {
                const link = event.target.closest(".ajax-link");
                if (link) {
                    event.preventDefault();
                    const url = link.getAttribute("href");
                    const title = link.getAttribute("data-title");
                
                    fetch(url, { headers: { "X-Requested-With": "XMLHttpRequest" } })
                        .then(response => response.text())
                        .then(html => {
                            const mainContent = document.getElementById("mainContent");
                            mainContent.innerHTML = html;
                        
                            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                            if (title) {
                                document.title = title;
                            }
                        
                            // –û–±–Ω–æ–≤–ª—è–µ–º URL –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
                            history.pushState({ path: url, title: title }, "", url);
                        })
                        .catch(error => console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:", error));
                }
            });

        
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ "–ù–∞–∑–∞–¥" –∏ "–í–ø–µ—Ä—ë–¥"
            window.addEventListener("popstate", function (event) {
                const state = event.state || {};
                const url = state.path || "/";
                const title = state.title || "Default Title";

                fetch(url, { headers: { "X-Requested-With": "XMLHttpRequest" } })
                    .then(response => response.text())
                    .then(html => {
                        const mainContent = document.getElementById("mainContent");
                        mainContent.innerHTML = html;
                    
                        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
                        if (title) {
                            document.title = title;
                        }
                    })
                    .catch(error => console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:", error));
            });
    </script> -->
</body>
</html>
